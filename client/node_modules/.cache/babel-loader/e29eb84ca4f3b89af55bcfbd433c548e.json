{"ast":null,"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\n\nvar RelayRecordState = require('./RelayRecordState');\n\nvar EXISTENT = RelayRecordState.EXISTENT,\n    NONEXISTENT = RelayRecordState.NONEXISTENT,\n    UNKNOWN = RelayRecordState.UNKNOWN;\n/**\n * An implementation of the `MutableRecordSource` interface (defined in\n * `RelayStoreTypes`) that holds all records in memory (JS Map).\n */\n\nvar RelayMapRecordSourceMapImpl = /*#__PURE__*/function () {\n  function RelayMapRecordSourceMapImpl(records) {\n    var _this = this;\n\n    this._records = new Map();\n\n    if (records != null) {\n      Object.keys(records).forEach(function (key) {\n        _this._records.set(key, records[key]);\n      });\n    }\n  }\n\n  var _proto = RelayMapRecordSourceMapImpl.prototype;\n\n  _proto.clear = function clear() {\n    this._records = new Map();\n  };\n\n  _proto[\"delete\"] = function _delete(dataID) {\n    this._records.set(dataID, null);\n  };\n\n  _proto.get = function get(dataID) {\n    return this._records.get(dataID);\n  };\n\n  _proto.getRecordIDs = function getRecordIDs() {\n    return Array.from(this._records.keys());\n  };\n\n  _proto.getStatus = function getStatus(dataID) {\n    if (!this._records.has(dataID)) {\n      return UNKNOWN;\n    }\n\n    return this._records.get(dataID) == null ? NONEXISTENT : EXISTENT;\n  };\n\n  _proto.has = function has(dataID) {\n    return this._records.has(dataID);\n  };\n\n  _proto.remove = function remove(dataID) {\n    this._records[\"delete\"](dataID);\n  };\n\n  _proto.set = function set(dataID, record) {\n    this._records.set(dataID, record);\n  };\n\n  _proto.size = function size() {\n    return this._records.size;\n  };\n\n  _proto.toJSON = function toJSON() {\n    var obj = {};\n\n    var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(this._records),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _step$value = _step.value,\n            key = _step$value[0],\n            value = _step$value[1];\n        obj[key] = value;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return obj;\n  };\n\n  return RelayMapRecordSourceMapImpl;\n}();\n\nmodule.exports = RelayMapRecordSourceMapImpl;","map":{"version":3,"sources":["/home/adamhanna/apps/relay-mongo-subscriptions-example/client/node_modules/relay-runtime/lib/store/RelayRecordSourceMapImpl.js"],"names":["_interopRequireDefault","require","_createForOfIteratorHelper2","RelayRecordState","EXISTENT","NONEXISTENT","UNKNOWN","RelayMapRecordSourceMapImpl","records","_this","_records","Map","Object","keys","forEach","key","set","_proto","prototype","clear","_delete","dataID","get","getRecordIDs","Array","from","getStatus","has","remove","record","size","toJSON","obj","_iterator","_step","s","n","done","_step$value","value","err","e","f","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\n\nvar RelayRecordState = require('./RelayRecordState');\n\nvar EXISTENT = RelayRecordState.EXISTENT,\n    NONEXISTENT = RelayRecordState.NONEXISTENT,\n    UNKNOWN = RelayRecordState.UNKNOWN;\n/**\n * An implementation of the `MutableRecordSource` interface (defined in\n * `RelayStoreTypes`) that holds all records in memory (JS Map).\n */\n\nvar RelayMapRecordSourceMapImpl = /*#__PURE__*/function () {\n  function RelayMapRecordSourceMapImpl(records) {\n    var _this = this;\n\n    this._records = new Map();\n\n    if (records != null) {\n      Object.keys(records).forEach(function (key) {\n        _this._records.set(key, records[key]);\n      });\n    }\n  }\n\n  var _proto = RelayMapRecordSourceMapImpl.prototype;\n\n  _proto.clear = function clear() {\n    this._records = new Map();\n  };\n\n  _proto[\"delete\"] = function _delete(dataID) {\n    this._records.set(dataID, null);\n  };\n\n  _proto.get = function get(dataID) {\n    return this._records.get(dataID);\n  };\n\n  _proto.getRecordIDs = function getRecordIDs() {\n    return Array.from(this._records.keys());\n  };\n\n  _proto.getStatus = function getStatus(dataID) {\n    if (!this._records.has(dataID)) {\n      return UNKNOWN;\n    }\n\n    return this._records.get(dataID) == null ? NONEXISTENT : EXISTENT;\n  };\n\n  _proto.has = function has(dataID) {\n    return this._records.has(dataID);\n  };\n\n  _proto.remove = function remove(dataID) {\n    this._records[\"delete\"](dataID);\n  };\n\n  _proto.set = function set(dataID, record) {\n    this._records.set(dataID, record);\n  };\n\n  _proto.size = function size() {\n    return this._records.size;\n  };\n\n  _proto.toJSON = function toJSON() {\n    var obj = {};\n\n    var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(this._records),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _step$value = _step.value,\n            key = _step$value[0],\n            value = _step$value[1];\n        obj[key] = value;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return obj;\n  };\n\n  return RelayMapRecordSourceMapImpl;\n}();\n\nmodule.exports = RelayMapRecordSourceMapImpl;"]},"metadata":{},"sourceType":"script"}